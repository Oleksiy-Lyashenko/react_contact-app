{"ast":null,"code":"import _objectSpread from\"/Users/oleksijlyashenko/Documents/React/react_todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/oleksijlyashenko/Documents/React/react_todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/oleksijlyashenko/Documents/React/react_todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import TodoList from'./components/TodoList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),newTodo=_useState2[0],setNewTodo=_useState2[1];var _useState3=useState(JSON.parse(localStorage.getItem('items'))||[]),_useState4=_slicedToArray(_useState3,2),listTodo=_useState4[0],setListTodo=_useState4[1];useEffect(function(){localStorage.setItem('items',JSON.stringify(listTodo));},[listTodo]);var handleEvent=function handleEvent(event){event.preventDefault();var task={id:+new Date(),title:newTodo,completed:false,editing:false,prevText:''};setListTodo([].concat(_toConsumableArray(listTodo),[task]));setNewTodo('');};var deleteTodo=function deleteTodo(todoId){var newArr=listTodo.filter(function(todo){return todo.id!==todoId;});setListTodo(newArr);};var changeComplete=function changeComplete(todoId){setListTodo(listTodo.map(function(todo){if(todo.id===todoId){var handle=todo.completed;return _objectSpread(_objectSpread({},todo),{},{completed:!handle});}return todo;}));};var changeItem=function changeItem(abc,todoId){setListTodo(listTodo.map(function(todo){if(todo.id===todoId){var next=abc;return _objectSpread(_objectSpread({},todo),{},{title:next});}return todo;}));};var changeEditing=function changeEditing(todoId){setListTodo(listTodo.map(function(todo){if(todo.id===todoId){return _objectSpread(_objectSpread({},todo),{},{prevText:todo.title});}return todo;}));};var allComplete=function allComplete(){if(listTodo.find(function(todo){return todo.completed!==true;})){var newArr=listTodo.map(function(todo){return _objectSpread(_objectSpread({},todo),{},{completed:true});});return setListTodo(newArr);}return setListTodo(listTodo.map(function(todo){var handle=todo.completed;return _objectSpread(_objectSpread({},todo),{},{completed:!handle});}));};var clearCompleted=function clearCompleted(){setListTodo(listTodo.filter(function(todo){return todo.completed!==true;}));};return/*#__PURE__*/_jsxs(\"section\",{className:\"todoapp\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"todos\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleEvent,children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"new-todo\",placeholder:\"What needs to be done?\",value:newTodo,onChange:function onChange(event){return setNewTodo(event.target.value);},required:true})})]}),listTodo.length>0&&/*#__PURE__*/_jsx(TodoList,{items:listTodo,deleteTodo:deleteTodo,changeComplete:changeComplete,allComplete:allComplete,clearCompleted:clearCompleted,changeEditing:changeEditing,changeItem:changeItem})]});}export default App;","map":{"version":3,"sources":["/Users/oleksijlyashenko/Documents/React/react_todo-app/src/App.jsx"],"names":["React","useEffect","useState","TodoList","App","newTodo","setNewTodo","JSON","parse","localStorage","getItem","listTodo","setListTodo","setItem","stringify","handleEvent","event","preventDefault","task","id","Date","title","completed","editing","prevText","deleteTodo","todoId","newArr","filter","todo","changeComplete","map","handle","changeItem","abc","next","changeEditing","allComplete","find","clearCompleted","target","value","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TodoList from './components/TodoList';\n\nfunction App() {\n  const [newTodo, setNewTodo] = useState();\n  const [listTodo, setListTodo] = useState(\n    JSON.parse(localStorage.getItem('items')) || [],\n  );\n\n  useEffect(() => {\n    localStorage.setItem('items', JSON.stringify(listTodo));\n  }, [listTodo]);\n\n  const handleEvent = (event) => {\n    event.preventDefault();\n\n    const task = {\n      id: (+new Date()),\n      title: newTodo,\n      completed: false,\n      editing: false,\n      prevText: '',\n    };\n\n    setListTodo([...listTodo, task]);\n    setNewTodo('');\n  };\n\n  const deleteTodo = (todoId) => {\n    const newArr = listTodo.filter(\n      todo => todo.id !== todoId,\n    );\n\n    setListTodo(newArr);\n  };\n\n  const changeComplete = (todoId) => {\n    setListTodo(\n      listTodo.map((todo) => {\n        if (todo.id === todoId) {\n          const handle = todo.completed;\n\n          return {\n            ...todo,\n            completed: !handle,\n          };\n        }\n\n        return todo;\n      }),\n    );\n  };\n\n  const changeItem = (abc, todoId) => {\n    setListTodo(\n      listTodo.map((todo) => {\n        if (todo.id === todoId) {\n          const next = abc;\n\n          return {\n            ...todo,\n            title: next,\n          };\n        }\n\n        return todo;\n      }),\n    );\n  };\n\n  const changeEditing = (todoId) => {\n    setListTodo(\n      listTodo.map((todo) => {\n        if (todo.id === todoId) {\n          return {\n            ...todo,\n            prevText: todo.title,\n          };\n        }\n\n        return todo;\n      }),\n    );\n  };\n\n  const allComplete = () => {\n    if (listTodo.find(todo => todo.completed !== true)) {\n      const newArr = listTodo.map(todo => (\n        {\n          ...todo,\n          completed: true,\n        }\n      ));\n\n      return setListTodo(newArr);\n    }\n\n    return setListTodo(\n      listTodo.map((todo) => {\n        const handle = todo.completed;\n\n        return {\n          ...todo,\n          completed: !handle,\n        };\n      }),\n    );\n  };\n\n  const clearCompleted = () => {\n    setListTodo(\n      listTodo.filter(\n        todo => todo.completed !== true,\n      ),\n    );\n  };\n\n  return (\n    <section className=\"todoapp\">\n      <header className=\"header\">\n        <h1>todos</h1>\n\n        <form onSubmit={handleEvent}>\n          <input\n            type=\"text\"\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            value={newTodo}\n            onChange={event => setNewTodo(event.target.value)}\n            required\n          />\n        </form>\n      </header>\n\n      {listTodo.length > 0 && (\n        <TodoList\n          items={listTodo}\n          deleteTodo={deleteTodo}\n          changeComplete={changeComplete}\n          allComplete={allComplete}\n          clearCompleted={clearCompleted}\n          changeEditing={changeEditing}\n          changeItem={changeItem}\n        />\n      )}\n    </section>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}